# ä¾èµ–ç®¡ç†ç­–ç•¥

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº†ZtbAiæ™ºèƒ½æŠ•æ ‡ç³»ç»Ÿçš„ä¾èµ–ç®¡ç†ç­–ç•¥ï¼Œç¡®ä¿é¡¹ç›®ç»“æ„æ¸…æ´ã€ä¾èµ–åˆç†ã€æ„å»ºç¨³å®šã€‚

## ğŸ“¦ ä¾èµ–åˆ†ç±»

### å‰ç«¯ä¾èµ– (Frontend)
- **æ ¸å¿ƒæ¡†æ¶**: React 18.x, TypeScript 4.x
- **UIç»„ä»¶**: Ant Design 5.x, Monaco Editor
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit, React Redux
- **æ„å»ºå·¥å…·**: React Scripts, Electron
- **å¼€å‘å·¥å…·**: ESLint, Prettier, Playwright

### åç«¯ä¾èµ– (Backend)
- **Webæ¡†æ¶**: FastAPI, Uvicorn
- **æ•°æ®åº“**: SQLAlchemy, Alembic
- **AIé›†æˆ**: OpenAI API, HTTPX
- **å·¥å…·åº“**: Pydantic, Python-dotenv

## ğŸ—‚ï¸ ä¸´æ—¶æ–‡ä»¶ç®¡ç†

### å·²æ¸…ç†çš„ä¸´æ—¶æ–‡ä»¶
- âœ… `node18.zip` (28MB) - Node.jså®‰è£…åŒ…
- âœ… `electron-v28.1.0-win32-x64/` (238MB) - Electroné¢„ç¼–è¯‘æ–‡ä»¶
- âœ… æ ¹ç›®å½•æ•°æ®åº“æ–‡ä»¶ `ztbai.db`

### ä¸´æ—¶ç›®å½•ç»“æ„
```
backend/
â”œâ”€â”€ temp_ocr/          # OCRä¸´æ—¶æ–‡ä»¶ (è¿è¡Œæ—¶)
â”œâ”€â”€ temp_pdf_split/    # PDFåˆ†å‰²ä¸´æ—¶æ–‡ä»¶ (è¿è¡Œæ—¶)  
â””â”€â”€ temp_uploads/      # ä¸Šä¼ ä¸´æ—¶æ–‡ä»¶ (è¿è¡Œæ—¶)
```

## ğŸ”§ ä¾èµ–ä¼˜åŒ–å»ºè®®

### å‰ç«¯ä¼˜åŒ–
1. **æŒ‰éœ€åŠ è½½**: ä½¿ç”¨dynamic importå‡å°‘åˆå§‹åŒ…å¤§å°
2. **ä¾èµ–å®¡è®¡**: å®šæœŸè¿è¡Œ `npm audit` æ£€æŸ¥å®‰å…¨æ¼æ´
3. **ç‰ˆæœ¬é”å®š**: ä½¿ç”¨ `package-lock.json` é”å®šä¾èµ–ç‰ˆæœ¬
4. **åŒ…åˆ†æ**: ä½¿ç”¨ `webpack-bundle-analyzer` åˆ†æåŒ…å¤§å°

### åç«¯ä¼˜åŒ–
1. **è™šæ‹Ÿç¯å¢ƒ**: ä½¿ç”¨ `venv` æˆ– `conda` éš”ç¦»ç¯å¢ƒ
2. **ä¾èµ–é”å®š**: ä½¿ç”¨ `pip freeze` ç”Ÿæˆç²¾ç¡®ç‰ˆæœ¬
3. **å®‰å…¨æ‰«æ**: ä½¿ç”¨ `pip-audit` æ£€æŸ¥å®‰å…¨é—®é¢˜
4. **è½»é‡åŒ–**: é¿å…å®‰è£…ä¸å¿…è¦çš„ä¾èµ–

## ğŸ“ æ–‡ä»¶å¿½ç•¥ç­–ç•¥

### Gitå¿½ç•¥è§„åˆ™
```gitignore
# æ„å»ºäº§ç‰©
dist/
build/
target/
out/

# ä¾èµ–ç›®å½•
node_modules/
__pycache__/

# å‹ç¼©åŒ…å’Œå½’æ¡£
*.zip
*.tar.gz
node*.zip
electron-v*.zip

# ä¸´æ—¶æ–‡ä»¶
temp_*/
*_temp/
*.tmp
*.temp
```

## ğŸš€ å®‰è£…å’Œæ„å»º

### å‰ç«¯ç¯å¢ƒè®¾ç½®
```bash
cd frontend
npm install                    # å®‰è£…ä¾èµ–
npm run build                  # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run dist                   # æ‰“åŒ…Electronåº”ç”¨
```

### åç«¯ç¯å¢ƒè®¾ç½®
```bash
cd backend
pip install -r requirements.txt  # å®‰è£…ä¾èµ–
alembic upgrade head              # æ•°æ®åº“è¿ç§»
python start_modular_app.py      # å¯åŠ¨æœåŠ¡
```

## ğŸ” ä¾èµ–ç›‘æ§

### å®šæœŸæ£€æŸ¥é¡¹ç›®
- [ ] ä¾èµ–å®‰å…¨æ¼æ´æ‰«æ
- [ ] è¿‡æœŸä¾èµ–æ›´æ–°
- [ ] åŒ…å¤§å°ç›‘æ§
- [ ] æ„å»ºæ—¶é—´ä¼˜åŒ–

### æ€§èƒ½ç›‘æ§
- **å‰ç«¯**: Bundleå¤§å°ã€åŠ è½½æ—¶é—´
- **åç«¯**: å¯åŠ¨æ—¶é—´ã€å†…å­˜ä½¿ç”¨
- **æ•´ä½“**: ç£ç›˜å ç”¨ã€CI/CDæ—¶é—´

## ğŸ“‹ æœ€ä½³å®è·µ

### å¼€å‘ç¯å¢ƒ
1. ä½¿ç”¨ç²¾ç¡®çš„ç‰ˆæœ¬å·è€ŒéèŒƒå›´ç‰ˆæœ¬
2. å®šæœŸæ¸…ç† `node_modules` å’Œ `__pycache__`
3. ä½¿ç”¨ `.nvmrc` æŒ‡å®šNode.jsç‰ˆæœ¬
4. ä½¿ç”¨ `requirements-dev.txt` åˆ†ç¦»å¼€å‘ä¾èµ–

### ç”Ÿäº§ç¯å¢ƒ
1. åªå®‰è£…ç”Ÿäº§å¿…éœ€çš„ä¾èµ–
2. ä½¿ç”¨Dockerå¤šé˜¶æ®µæ„å»ºå‡å°‘é•œåƒå¤§å°
3. å®šæœŸæ›´æ–°ä¾èµ–å’Œå®‰å…¨è¡¥ä¸
4. ç›‘æ§ä¾èµ–è®¸å¯è¯åˆè§„æ€§

### æ¸…ç†å‘½ä»¤
```bash
# å‰ç«¯æ¸…ç†
rm -rf frontend/node_modules frontend/build
npm cache clean --force

# åç«¯æ¸…ç†
find backend -name "__pycache__" -exec rm -rf {} +
find backend -name "*.pyc" -delete

# ä¸´æ—¶æ–‡ä»¶æ¸…ç†
rm -rf backend/temp_*
```

---

**åˆ›å»ºæ—¶é—´**: 2024-08-30  
**ç»´æŠ¤è€…**: ZtbAiå¼€å‘å›¢é˜Ÿ  
**ç‰ˆæœ¬**: v1.0